{% extends 'base.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}

    {% if error %}
        <div class="fixed bottom-4 right-4 flex flex-col space-y-4 max-w-[500px]">
                {{ component('Alert', {type: 'error', message: error.messageKey|trans(error.messageData, 'security')}) }}
        </div>
    {% endif %}

    <div class="flex flex-col justify-start items-center w-11/12 sm:w-4/5 lg:w-2/3 mx-auto">
        {{ component('LogoBig') }}
        <h4 class="mb-3">Se connecter</h4>

        {{ form_start(form, {'attr': {'class': 'w-full max-w-lg'}}) }}
        {{ component('Form/Email', {data: form._username}) }}
        {{ component('Form/Password', {data: form._password}) }}
        <div class="flex justify-between">
            <div class="checkbox mb-3">
                <input type="checkbox" name="_remember_me" id="_remember_me">
                <label for="_remember_me">Se souvenir de moi</label>
            </div>
            <a href="{{ path('app_forgot_password_request') }}">Mot de passe oublié</a>
        </div>
        <input type="hidden" name="_csrf_token"
               value="{{ csrf_token('authenticate') }}"
        >
        <div class="flex flex-col justify-center items-center gap-3 mt-5">
            {{ component('Button', {type: 'button', action: 'login', style: 'primary', content: 'Se connecter'}) }}
            <span>ou</span>
            {# Todo : Modifier le lien vers création de compte #}
            {{ component('Button', {type: 'link', action: 'signin', style: 'secondary', content: 'Créer un compte', route: 'app_home'}) }}
        </div>

        {{ form_end(form, {'render_rest': false}) }}
    </div>

{% endblock %}
